"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var Filter=function(){function e(t){_classCallCheck(this,e),this.container=t,this.checkboxes=_toConsumableArray(this.container.getElementsByClassName("nhsuk-checkboxes__input")),this.groups=_toConsumableArray(this.container.getElementsByClassName("nhsuk-filter__group")),this.submit=this.container.querySelector(".nhsuk-filter__submit"),this.setUp(),this.addEventListeners()}return _createClass(e,[{key:"addEventListeners",value:function(){var e=this;this.checkboxes.forEach(function(t){t.addEventListener("change",function(t){return e.updateResults(t)})}),this.groups.forEach(function(t){t=t.querySelector(".nhsuk-fieldset__legend");t&&t.addEventListener("click",function(t){return e.toggleGroup(t)})})}},{key:"setUp",value:function(){this.container.classList.add("nhsuk-filter--js"),this.groups.forEach(function(t){return t.classList.add("nhsuk-filter__group--closed")}),this.submit&&(this.submit.hidden=!0)}},{key:"toggleGroup",value:function(t){t.preventDefault(),t.target.closest(".nhsuk-filter__group").classList.toggle("nhsuk-filter__group--closed")}},{key:"updateResults",value:function(t){this.container.submit()}}]),e}();_toConsumableArray(document.getElementsByClassName("nhsuk-filter")).forEach(function(t){return new Filter(t)});var FilterTag=function(){function e(t){_classCallCheck(this,e),this.tag=t,this.icon=t.querySelector(".nhsuk-filter-tag__icon"),this.setUp(),this.addEventListeners()}return _createClass(e,[{key:"addEventListeners",value:function(){var e=this;this.tag.addEventListener("click",function(t){return e.removeFilter(t)})}},{key:"removeFilter",value:function(t){t.preventDefault(),document.querySelectorAll("input[value='".concat(this.tag.dataset.filter,"']")).forEach(function(t){t.checked=!1,t.dispatchEvent(new Event("change"))}),t.target.remove()}},{key:"setUp",value:function(){this.tag.classList.add("nhsuk-filter-tag--js"),this.icon&&(this.icon.hidden=!1)}}]),e}();_toConsumableArray(document.getElementsByClassName("nhsuk-filter-tag")).forEach(function(t){return new FilterTag(t)});var Listing=function(){function e(t){_classCallCheck(this,e),this.container=t,this.sort=this.container.querySelector(".nhsuk-listing__sort"),this.addEventListeners(),this.toggleJavascriptElements()}return _createClass(e,[{key:"addEventListeners",value:function(){var e=this;this.sort&&_toConsumableArray(this.sort.getElementsByTagName("select")).forEach(function(t){return t.addEventListener("change",function(t){return e.updateResults(t)})})}},{key:"toggleJavascriptElements",value:function(){var t;!this.sort||(t=this.sort.querySelector(".nhsuk-listing__sort__submit"))&&(t.hidden=!0)}},{key:"updateResults",value:function(){this.sort.submit()}}]),e}(),Tabs=function(){function n(t,e){_classCallCheck(this,n),this.tab=t,this.pos=e,this.tabs=_toConsumableArray(document.getElementsByClassName("nhsuk-tabs__list-item")),this.tabPanels=_toConsumableArray(document.getElementsByClassName("nhsuk-tabs__panel")),this.addEventListeners()}return _createClass(n,[{key:"addEventListeners",value:function(){var e=this,n=window.matchMedia("(min-width:40.0625em)");n.onchange=function(t){e.tabs.forEach(function(t){t.classList.remove("nhsuk-tabs__list-item--selected")}),e.tabPanels.forEach(function(t){t.classList.add("nhsuk-tabs__panel--hidden")}),n.matches&&e.tab.addEventListener("click",function(t){return e.actionTabClick(t)})},n.onchange()}},{key:"actionTabClick",value:function(t){t.preventDefault(),this.tabs.forEach(function(t){t.classList.remove("nhsuk-tabs__list-item--selected")}),t.currentTarget.classList.add("nhsuk-tabs__list-item--selected"),this.tabPanels.forEach(function(t){t.classList.add("nhsuk-tabs__panel--hidden")}),this.tabPanels[this.pos].classList.remove("nhsuk-tabs__panel--hidden")}}]),n}();_toConsumableArray(document.getElementsByClassName("nhsuk-listing")).forEach(function(t){return new Listing(t)}),_toConsumableArray(document.getElementsByClassName("nhsuk-tabs__list-item")).forEach(function(t,e){return new Tabs(t,e)});